<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sequence diagram</title>
  </head>
  <body>
    <svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg">
      <!-- Background -->
      <rect width="900" height="600" fill="#f8f9fa" stroke="none" />

      <!-- Title -->
      <text
        x="450"
        y="30"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="18"
        font-weight="bold"
        fill="#2c3e50"
      >
        Smart Dog Cage - "Catch" Command Sequence Diagram
      </text>

      <!-- Actors/Objects Headers -->
      <!-- Dog Owner -->
      <rect
        x="50"
        y="70"
        width="120"
        height="60"
        rx="5"
        fill="#3498db"
        stroke="#2980b9"
        stroke-width="2"
      />
      <text
        x="110"
        y="90"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        font-weight="bold"
        fill="white"
      >
        Dog Owner
      </text>
      <text
        x="110"
        y="110"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="white"
      >
        (via Mobile App)
      </text>

      <!-- Mobile App -->
      <rect
        x="220"
        y="70"
        width="120"
        height="60"
        rx="5"
        fill="#9b59b6"
        stroke="#8e44ad"
        stroke-width="2"
      />
      <text
        x="280"
        y="90"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        font-weight="bold"
        fill="white"
      >
        Mobile App
      </text>
      <text
        x="280"
        y="110"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="white"
      >
        (Interface)
      </text>

      <!-- IoT Controller -->
      <rect
        x="390"
        y="70"
        width="120"
        height="60"
        rx="5"
        fill="#2ecc71"
        stroke="#27ae60"
        stroke-width="2"
      />
      <text
        x="450"
        y="90"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        font-weight="bold"
        fill="white"
      >
        IoT Controller
      </text>
      <text
        x="450"
        y="110"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="white"
      >
        (ESP32)
      </text>

      <!-- Speaker -->
      <rect
        x="560"
        y="70"
        width="120"
        height="60"
        rx="5"
        fill="#f39c12"
        stroke="#e67e22"
        stroke-width="2"
      />
      <text
        x="620"
        y="90"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        font-weight="bold"
        fill="white"
      >
        Speaker
      </text>
      <text
        x="620"
        y="110"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="white"
      >
        (Voice Module)
      </text>

      <!-- Dog -->
      <rect
        x="730"
        y="70"
        width="120"
        height="60"
        rx="5"
        fill="#e67e22"
        stroke="#d35400"
        stroke-width="2"
      />
      <text
        x="790"
        y="90"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        font-weight="bold"
        fill="white"
      >
        Dog
      </text>
      <text
        x="790"
        y="110"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="white"
      >
        (Pet)
      </text>

      <!-- Lifelines -->
      <line
        x1="110"
        y1="130"
        x2="110"
        y2="550"
        stroke="#7f8c8d"
        stroke-width="2"
        stroke-dasharray="5,5"
      />
      <line
        x1="280"
        y1="130"
        x2="280"
        y2="550"
        stroke="#7f8c8d"
        stroke-width="2"
        stroke-dasharray="5,5"
      />
      <line
        x1="450"
        y1="130"
        x2="450"
        y2="550"
        stroke="#7f8c8d"
        stroke-width="2"
        stroke-dasharray="5,5"
      />
      <line
        x1="620"
        y1="130"
        x2="620"
        y2="550"
        stroke="#7f8c8d"
        stroke-width="2"
        stroke-dasharray="5,5"
      />
      <line
        x1="790"
        y1="130"
        x2="790"
        y2="550"
        stroke="#7f8c8d"
        stroke-width="2"
        stroke-dasharray="5,5"
      />

      <!-- Activation boxes -->
      <rect
        x="105"
        y="160"
        width="10"
        height="30"
        fill="#3498db"
        stroke="#2980b9"
        stroke-width="1"
      />
      <rect
        x="275"
        y="200"
        width="10"
        height="40"
        fill="#9b59b6"
        stroke="#8e44ad"
        stroke-width="1"
      />
      <rect
        x="445"
        y="260"
        width="10"
        height="80"
        fill="#2ecc71"
        stroke="#27ae60"
        stroke-width="1"
      />
      <rect
        x="615"
        y="320"
        width="10"
        height="40"
        fill="#f39c12"
        stroke="#e67e22"
        stroke-width="1"
      />
      <rect
        x="785"
        y="380"
        width="10"
        height="30"
        fill="#e67e22"
        stroke="#d35400"
        stroke-width="1"
      />

      <!-- Message arrows and labels -->
      <defs>
        <marker
          id="arrowhead"
          markerWidth="10"
          markerHeight="7"
          refX="9"
          refY="3.5"
          orient="auto"
        >
          <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50" />
        </marker>
        <marker
          id="return-arrow"
          markerWidth="10"
          markerHeight="7"
          refX="9"
          refY="3.5"
          orient="auto"
        >
          <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
        </marker>
      </defs>

      <!-- 1. Dog Owner selects "Catch" command -->
      <line
        x1="115"
        y1="175"
        x2="275"
        y2="175"
        stroke="#2c3e50"
        stroke-width="2"
        marker-end="url(#arrowhead)"
      />
      <text
        x="195"
        y="170"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        font-weight="bold"
        fill="#2c3e50"
      >
        1. Select "Catch" command
      </text>

      <!-- 2. App sends command via Wi-Fi/Bluetooth -->
      <line
        x1="285"
        y1="215"
        x2="445"
        y2="215"
        stroke="#2c3e50"
        stroke-width="2"
        marker-end="url(#arrowhead)"
      />
      <text
        x="365"
        y="210"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        font-weight="bold"
        fill="#2c3e50"
      >
        2. Send command
      </text>
      <text
        x="365"
        y="225"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="9"
        fill="#7f8c8d"
      >
        (Wi-Fi/Bluetooth)
      </text>

      <!-- 3. IoT Controller receives command -->
      <rect
        x="460"
        y="265"
        width="120"
        height="25"
        rx="3"
        fill="#ecf0f1"
        stroke="#bdc3c7"
        stroke-width="1"
      />
      <text
        x="520"
        y="280"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        font-weight="bold"
        fill="#2c3e50"
      >
        3. Receive & Process
      </text>

      <!-- 4. IoT Controller activates speaker -->
      <line
        x1="455"
        y1="305"
        x2="615"
        y2="305"
        stroke="#2c3e50"
        stroke-width="2"
        marker-end="url(#arrowhead)"
      />
      <text
        x="535"
        y="300"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        font-weight="bold"
        fill="#2c3e50"
      >
        4. Activate speaker
      </text>
      <text
        x="535"
        y="315"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="9"
        fill="#7f8c8d"
      >
        (Audio signal)
      </text>

      <!-- 5. Speaker plays "Catch" command -->
      <rect
        x="630"
        y="335"
        width="120"
        height="25"
        rx="3"
        fill="#fff3cd"
        stroke="#ffc107"
        stroke-width="1"
      />
      <text
        x="690"
        y="350"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        font-weight="bold"
        fill="#856404"
      >
        5. Play "Catch!" 🔊
      </text>

      <!-- Sound waves from speaker -->
      <path
        d="M 625 345 Q 650 340 675 345"
        stroke="#f39c12"
        stroke-width="2"
        fill="none"
      />
      <path
        d="M 625 350 Q 660 340 695 350"
        stroke="#f39c12"
        stroke-width="2"
        fill="none"
      />
      <path
        d="M 625 355 Q 670 340 715 355"
        stroke="#f39c12"
        stroke-width="2"
        fill="none"
      />

      <!-- Sound travels to dog -->
      <line
        x1="740"
        y1="348"
        x2="785"
        y2="348"
        stroke="#f39c12"
        stroke-width="3"
        stroke-dasharray="3,3"
      />
      <text
        x="762"
        y="343"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="9"
        fill="#f39c12"
      >
        🎵 "Catch!"
      </text>

      <!-- 6. Dog reacts -->
      <rect
        x="800"
        y="385"
        width="80"
        height="25"
        rx="3"
        fill="#ffe4b5"
        stroke="#deb887"
        stroke-width="1"
      />
      <text
        x="840"
        y="400"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        font-weight="bold"
        fill="#8b4513"
      >
        6. Dog reacts 🐕
      </text>

      <!-- Timeline/Step numbers on the left -->
      <rect
        x="10"
        y="150"
        width="30"
        height="300"
        fill="#ecf0f1"
        stroke="#bdc3c7"
        stroke-width="1"
        rx="5"
      />
      <text
        x="25"
        y="170"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="10"
        font-weight="bold"
        fill="#2c3e50"
      >
        Step
      </text>
      <text
        x="25"
        y="200"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#3498db"
      >
        1
      </text>
      <text
        x="25"
        y="240"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#9b59b6"
      >
        2
      </text>
      <text
        x="25"
        y="280"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#2ecc71"
      >
        3
      </text>
      <text
        x="25"
        y="320"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#f39c12"
      >
        4
      </text>
      <text
        x="25"
        y="360"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#f39c12"
      >
        5
      </text>
      <text
        x="25"
        y="400"
        text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#e67e22"
      >
        6
      </text>

      <!-- Notes section -->
      <rect
        x="50"
        y="470"
        width="800"
        height="100"
        fill="#f8f9fa"
        stroke="#dee2e6"
        stroke-width="1"
        rx="5"
      />
      <text
        x="70"
        y="490"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#2c3e50"
      >
        Sequence Flow Summary:
      </text>

      <text
        x="70"
        y="510"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#495057"
      >
        • User initiates voice command through mobile interface
      </text>
      <text
        x="70"
        y="525"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#495057"
      >
        • Command transmitted wirelessly to IoT controller
      </text>
      <text
        x="70"
        y="540"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#495057"
      >
        • Controller processes and triggers appropriate audio playback
      </text>
      <text
        x="70"
        y="555"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#495057"
      >
        • Dog responds to audio command, completing the interaction cycle
      </text>

      <!-- Communication Protocol Legend -->
      <rect
        x="650"
        y="170"
        width="200"
        height="80"
        fill="white"
        stroke="#ccc"
        stroke-width="1"
        rx="5"
      />
      <text
        x="660"
        y="185"
        font-family="Arial, sans-serif"
        font-size="12"
        font-weight="bold"
        fill="#2c3e50"
      >
        Communication:
      </text>
      <line
        x1="660"
        y1="195"
        x2="690"
        y2="195"
        stroke="#2c3e50"
        stroke-width="2"
        marker-end="url(#arrowhead)"
      />
      <text
        x="695"
        y="200"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="#2c3e50"
      >
        Control Signal
      </text>
      <line
        x1="660"
        y1="210"
        x2="690"
        y2="210"
        stroke="#f39c12"
        stroke-width="3"
        stroke-dasharray="3,3"
      />
      <text
        x="695"
        y="215"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="#2c3e50"
      >
        Audio/Sound
      </text>
      <rect
        x="665"
        y="225"
        width="20"
        height="15"
        fill="#ecf0f1"
        stroke="#bdc3c7"
        stroke-width="1"
      />
      <text
        x="690"
        y="235"
        font-family="Arial, sans-serif"
        font-size="10"
        fill="#2c3e50"
      >
        Processing
      </text>
    </svg>
  </body>
</html>
